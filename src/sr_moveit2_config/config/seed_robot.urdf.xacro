<?xml version="1.0" encoding="utf-8"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="seed_robot">

  <!-- Properties for materials and common values -->
  <xacro:property name="base_color" value="0.792156862745098 0.819607843137255 0.933333333333333 1" />
  <xacro:property name="white_color" value="1 1 1 1" />
  <xacro:property name="package_name" value="robot_description" />
  
  <!-- Material definitions -->
  <material name="base_material">
    <color rgba="${base_color}" />
  </material>
  
  <material name="white_material">
    <color rgba="${white_color}" />
  </material>

  <!-- Macro for link with mesh -->
  <xacro:macro name="link_with_mesh" params="name mesh_file material_name mass ixx ixy ixz iyy iyz izz origin_xyz origin_rpy">
    <link name="${name}">
      <inertial>
        <origin xyz="${origin_xyz}" rpy="${origin_rpy}" />
        <mass value="${mass}" />
        <inertia
          ixx="${ixx}"
          ixy="${ixy}"
          ixz="${ixz}"
          iyy="${iyy}"
          iyz="${iyz}"
          izz="${izz}" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://${package_name}/meshes/${mesh_file}" />
        </geometry>
        <material name="${material_name}" />
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://${package_name}/meshes/${mesh_file}" />
        </geometry>
      </collision>
    </link>
  </xacro:macro>

  <!-- Macro for revolute joint -->
  <xacro:macro name="revolute_joint" params="name parent child origin_xyz origin_rpy axis_xyz lower upper effort velocity">
    <joint name="${name}" type="revolute">
      <origin xyz="${origin_xyz}" rpy="${origin_rpy}" />
      <parent link="${parent}" />
      <child link="${child}" />
      <axis xyz="${axis_xyz}" />
      <limit
        lower="${lower}"
        upper="${upper}"
        effort="${effort}"
        velocity="${velocity}" />
    </joint>
  </xacro:macro>

  <!-- Base link -->
  <xacro:link_with_mesh
    name="base_link"
    mesh_file="base_link.STL"
    material_name="base_material"
    mass="7.29479819596003"
    ixx="0.304734842338256"
    ixy="0.0260194845346223"
    ixz="-0.195707693385684"
    iyy="0.460897677321565"
    iyz="0.0322341146438504"
    izz="0.197227468171142"
    origin_xyz="0.140267456455075 -0.0253117647363401 0.29878385637046"
    origin_rpy="0 0 0" />

  <!-- Link 1 -->
  <xacro:link_with_mesh
    name="link1"
    mesh_file="link1.STL"
    material_name="base_material"
    mass="7.2948"
    ixx="0.30473"
    ixy="0.026019"
    ixz="-0.19571"
    iyy="0.4609"
    iyz="0.032234"
    izz="0.19723"
    origin_xyz="0 0 0"
    origin_rpy="0 0 0" />

  <!-- Joint 1 -->
  <xacro:revolute_joint
    name="joint1"
    parent="base_link"
    child="link1"
    origin_xyz="0 0 0.147"
    origin_rpy="0 0 0"
    axis_xyz="0 0 -1"
    lower="-2.627"
    upper="2.617"
    effort="100"
    velocity="1" />

  <!-- Link 2 -->
  <xacro:link_with_mesh
    name="link2"
    mesh_file="link2.STL"
    material_name="base_material"
    mass="7.2948"
    ixx="0.30473"
    ixy="-0.19571"
    ixz="-0.026019"
    iyy="0.19723"
    iyz="-0.032234"
    izz="0.4609"
    origin_xyz="0.089949 0.079784 0.017003"
    origin_rpy="0 0 0" />

  <!-- Joint 2 -->
  <xacro:revolute_joint
    name="joint2"
    parent="link1"
    child="link2"
    origin_xyz="0.050318 -0.008309 0.072"
    origin_rpy="1.5708 0 0"
    axis_xyz="-0.16293 0 0.98664"
    lower="-1.134"
    upper="1.919"
    effort="100"
    velocity="1" />

  <!-- Link 3 -->
  <xacro:link_with_mesh
    name="link3"
    mesh_file="link3.STL"
    material_name="base_material"
    mass="7.2948"
    ixx="0.30473"
    ixy="-0.19571"
    ixz="-0.026019"
    iyy="0.19723"
    iyz="-0.032234"
    izz="0.4609"
    origin_xyz="-0.083849 -0.13139 -0.011696"
    origin_rpy="0 0 0" />

  <!-- Joint 3 -->
  <xacro:revolute_joint
    name="joint3"
    parent="link2"
    child="link3"
    origin_xyz="0.1738 0.21118 0.028699"
    origin_rpy="0 0 0"
    axis_xyz="-0.16293 0 0.98664"
    lower="-3.281"
    upper="0.471"
    effort="100"
    velocity="1" />

  <!-- Link 4 -->
  <xacro:link_with_mesh
    name="link4"
    mesh_file="link4.STL"
    material_name="base_material"
    mass="7.2948"
    ixx="0.19723"
    ixy="8.1679E-05"
    ixz="-0.19834"
    iyy="0.46512"
    iyz="0.00046426"
    izz="0.30051"
    origin_xyz="-0.23187 0.0021209 -0.099268"
    origin_rpy="0 0 0" />

  <!-- Joint 4 -->
  <xacro:revolute_joint
    name="joint4"
    parent="link3"
    child="link4"
    origin_xyz="0.014439 0.10047 0.0023842"
    origin_rpy="1.4071 0 1.5708"
    axis_xyz="0.15468 0 0.98796"
    lower="-2.914"
    upper="2.914"
    effort="100"
    velocity="1" />

  <!-- Link 5 -->
  <xacro:link_with_mesh
    name="link5"
    mesh_file="link5.STL"
    material_name="base_material"
    mass="7.2948"
    ixx="0.19723"
    ixy="-0.19827"
    ixz="0.0053728"
    iyy="0.30061"
    iyz="0.0040613"
    izz="0.46502"
    origin_xyz="-0.27 -0.34273 0.0073069"
    origin_rpy="0 0 0" />

  <!-- Joint 5 -->
  <xacro:revolute_joint
    name="joint5"
    parent="link4"
    child="link5"
    origin_xyz="0.03813 0 0.24353"
    origin_rpy="1.5983 0 0"
    axis_xyz="-0.17299 0 -0.98492"
    lower="-0.593"
    upper="3.63"
    effort="100"
    velocity="1" />

  <!-- Link 6 -->
  <xacro:link_with_mesh
    name="link6"
    mesh_file="link6.STL"
    material_name="white_material"
    mass="0.0076168"
    ixx="8.0461E-07"
    ixy="1.9099E-09"
    ixz="-3.6065E-22"
    iyy="8.0887E-07"
    iyz="-8.3876E-22"
    izz="1.5676E-06"
    origin_xyz="3.8081E-14 -1.3156E-14 0.0041506"
    origin_rpy="0 0 0" />

  <!-- Joint 6 -->
  <xacro:revolute_joint
    name="joint6"
    parent="link5"
    child="link6"
    origin_xyz="-0.0035985 0.090927 0.00063205"
    origin_rpy="-1.5635 0.29518 0.041667"
    axis_xyz="0 0 -1"
    lower="-4.712"
    upper="4.712"
    effort="0"
    velocity="0" />

  <!-- ros2_control configuration -->
  <ros2_control name="FakeSystem" type="system">
    <hardware>
      <plugin>fake_components/GenericSystem</plugin>
      <param name="fake_sensor_commands">false</param>
      <param name="state_following_offset">0.0</param>
    </hardware>
    <joint name="joint1">
      <command_interface name="position">
        <param name="min">-2.627</param>
        <param name="max">2.617</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="joint2">
      <command_interface name="position">
        <param name="min">-1.134</param>
        <param name="max">1.919</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="joint3">
      <command_interface name="position">
        <param name="min">-3.281</param>
        <param name="max">0.471</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="joint4">
      <command_interface name="position">
        <param name="min">-2.914</param>
        <param name="max">2.914</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="joint5">
      <command_interface name="position">
        <param name="min">-0.593</param>
        <param name="max">3.63</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="joint6">
      <command_interface name="position">
        <param name="min">-4.712</param>
        <param name="max">4.712</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
  </ros2_control>

</robot>